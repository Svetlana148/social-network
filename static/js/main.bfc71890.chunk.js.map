{"version":3,"sources":["redux/auth-reducer.js","redux/sidebar-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","App.js","reportWebVitals.js","index.js","components/common/preloader/Preloader.jsx","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","img/preloader.gif","components/Navbar/Navbar.module.css","components/api/api.js"],"names":["initialState","userId","email","login","isFetching","isAuth","authReducer","state","arguments","length","undefined","action","type","payload","setAuthUserData","getAuthUserData","async","response","authAPI","me","data","resultCode","id","dispatch","password","rememberMe","message","messages","stopSubmit","_error","logout","sidebarReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddlewarer","Storage","Navbar","props","React","createElement","className","s","nav","NavLink","to","navData","isActive","activeLink","link","frendsData","Header","header","src","alt","loginBlock","onClick","HeaderContainer","Component","render","Fragment","this","Preloader","connect","DialogsContainer","lazy","ProfileContainer","UsersContainer","Login","Music","News","Settings","App","componentDidMount","initializeApp","Suspense","fallback","Routes","basename","process","Route","path","element","AppContainer","then","JSApp","BrowserRouter","Provider","reportWebVitals","onPerfEntry","Function","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","style","backgroundColor","preloaderImg","module","exports","postsData","likesCount","profile","status","newPost","newPostText","addPostActionCreator","setStatus","getUserProfile","usersAPI","getProfile","getStatus","getProfileAPI","updateStatus","dialogsData","name","messagesData","newMessage","newMessageText","addMessageActionCreator","updateObjectInArray","items","itemsId","objPropName","newObjProps","map","u","users","pageSize","totalUsersCount","currentPage","followingInProgress","followed","filter","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","requestUsers","page","totalCount","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unfollow","instance","axios","create","withCredentials","baseURL","get","concat","responce","post","delete","console","warn","put"],"mappings":"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","file":"static/js/main.bfc71890.chunk.js","sourcesContent":["import { stopSubmit } from 'redux-form';\r\nimport {authAPI} from '../components/api/api';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\n\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail : null,\r\n\tlogin :null,\r\n\tisFetching : false,    //Loading is going\r\n\tisAuth : false,\r\n};\r\n\r\n\r\n\r\nconst authReducer = (state = initialState, action)=>{\r\n\tswitch(action.type){\r\n\t\t\r\n\t\tcase SET_USER_DATA:\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t};\r\n\r\n\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {...state,\tisFetching : action.isFetching};\r\n\r\n\r\n\t\tdefault:\r\n\t\t\treturn(state);\r\n\t}\r\n}; \r\nexport default authReducer;\r\n\r\n\r\n\r\n\r\n\r\n// ActionCreator  Post-----------------------------------------\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth)=>\r\n\t\t\t\t\t\t\t\t\t\t({type : SET_USER_DATA, payload : {userId, email, login, isAuth}});\r\n\r\n\r\nexport const toggleIsFetching = (isFetching)=>{\r\n\treturn {type : TOGGLE_IS_FETCHING, isFetching:isFetching};\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ------------THUNK Creators-----------------------------------------------------------------\r\n\r\nexport const getAuthUserData = ()=>\tasync(dispatch)=>{\r\n\tlet response = await authAPI.me();\r\n\t\r\n\t// this.props.toggleIsFetching(false)\r\n\tif (response.data.resultCode === 0){\r\n\t\tlet {id, email, login} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t};\r\n};\r\n\r\n\r\nexport const login = (email, password,rememberMe)=>async (dispatch)=>{\r\n\tlet response = await authAPI.login(email, password,rememberMe);\r\n\t\r\n\t// this.props.toggleIsFetching(false)\r\n\tif (response.data.resultCode === 0){\r\n\t\t\t\tdispatch(getAuthUserData());\r\n\t}\r\n\r\n\t//Останавливаем Submit  усли есть ошибка---------------------------------------------\r\n\telse{\r\n\t\t//messages[0] Возьмем нулевое сообщение---------------------------------------------\r\n\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n\t\tdispatch(stopSubmit(\"login\", {_error : message}));\r\n\t}\r\n};\r\n\r\n\r\nexport const logout = ()=>async (dispatch)=>{\r\n\tlet response = await authAPI.logout();\r\n\t// this.props.toggleIsFetching(false)\r\n\tif (response.data.resultCode === 0){\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\r\n}\r\n\r\n","\r\nlet initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action)=>{\r\n\treturn state;\r\n\t}\r\n\r\n\r\n\r\n\r\nexport default sidebarReducer;\r\n\t","import {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\n\r\n\r\nconst appReducer = (state = initialState, action)=>{\r\n\tswitch(action.type){\r\n\t\t\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tinitialized : true,\r\n\t\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn(state);\r\n\t}\r\n}; \r\nexport default appReducer;\r\n\r\n\r\n\r\n\r\n\r\n// ActionCreator  Post-----------------------------------------\r\n\r\nexport const initializedSuccess = ()=>({type : INITIALIZED_SUCCESS});\r\n\r\n\r\n// export const toggleIsFetching = (isFetching)=>{\r\n// \treturn {type : TOGGLE_IS_FETCHING, isFetching:isFetching};\r\n// };\r\n\r\n\r\n// ------------THUNK Creators-----------------------------------------------------------------\r\n\r\nexport const  initializeApp = ()=>(dispatch)=>{\r\n\tlet promise = dispatch(getAuthUserData());\r\n\tpromise.then(( )=> {\r\n\t\tdispatch(initializedSuccess());\r\n\t}) \r\n};\r\n\r\n\r\n","import {applyMiddleware, combineReducers, legacy_createStore as createStore, compose} from 'redux'; \r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\nimport thunkMiddlewarer from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage : profileReducer,\r\n\tdialogsPage : dialogsReducer,\r\n\tsidebar : sidebarReducer,\r\n\tusersPage : usersReducer,\r\n\tauth : authReducer,\r\n\tform : formReducer,\r\n\tapp : appReducer,\r\n});\r\n\r\n\r\n\r\n\r\n// For Redux Dev Tools----------------------------------------------\r\n//Промежуточный слой внедряем в store   thunkMiddlewarer----------------\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddlewarer)\r\n));\r\n// ----------------------------------------------\r\n\r\n// let store=createStore(reducers, applyMiddleware(thunkMiddlewarer)); //Промежуточный слой внедряем в store\r\n\r\n\r\nwindow.Storage = store;\r\nexport default store;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = (props) => {\r\n\treturn (\r\n\t\t<div className={s.sidebar}>\r\n\r\n\t\t\t<nav className={s.nav}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to='/Profile' className={ navData => navData.isActive ? s.activeLink : s.link }>Profile</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to='/Dialogs' className={ navData => navData.isActive ? s.activeLink : s.link }>Messages</NavLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<NavLink to='/News' className={ navData => navData.isActive ? s.activeLink : s.link }>News</NavLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<NavLink to='/Users' className={ navData => navData.isActive ? s.activeLink : s.link }>Users</NavLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<NavLink to='/Music' className={ navData => navData.isActive ? s.activeLink : s.link }>Music</NavLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<NavLink to='/Settings' className={ navData => navData.isActive ? s.activeLink : s.link }>Settings</NavLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t\r\n\t\t\t</nav>\r\n\r\n\t\t\t<div>\r\n\t\t\t\tFrends\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{props.frendsData}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n\t\t\t<img src='data:image/jpeg;base64,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' alt='' />\r\n\r\n\t\t\t<div className={s.loginBlock}>\r\n\t\t\t\t{props.isAuth\r\n\t\t\t\t\t? <div>{props.login} - <button onClick={props.logout}>Log out</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\n\r\nimport {logout, toggleIsFetching} from '../../redux/auth-reducer';\r\nimport axios from 'axios';\r\nimport {connect} from 'react-redux';\r\nimport Preloader from '../common/preloader/Preloader.jsx';\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\t// Перенесли в APP.js\r\n\t// componentDidMount(){\r\n\t// \tthis.props.getAuthUserData();\r\n\t// }\r\n\r\n\t\r\n\trender(){\r\n\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t<Header {...this.props}\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state)=>{\r\n\treturn{\r\n\t\tisAuth : state.auth.isAuth,\r\n\t\tlogin : state.auth.login,\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React, { Component } from 'react';\r\nimport {Routes, Route, BrowserRouter} from 'react-router-dom';\r\nimport {connect, Provider} from 'react-redux';\r\nimport store from './redux/redux-store.js';\r\n\r\n\r\nimport { initializeApp } from \"./redux/app-reducer.js\";\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar.jsx';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Preloader from './components/common/preloader/Preloader.jsx';\r\n\r\n\r\n\r\n// import News from './components/News/News.jsx';\r\n// import Music from './components/Music/Music.jsx';\r\n// import Settings from './components/Settings/Settings.jsx';\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer.jsx';\r\n// import UsersContainer from './components/Users/UsersContainer.jsx';\r\n// import ProfileContainer from './components/Profile/ProfileContainer';\r\n// import Login from './components/Login/Login.jsx';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.jsx'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer.jsx'));\r\nconst Login  = React.lazy(() => import('./components/Login/Login.jsx'));\r\nconst Music = React.lazy(() => import('./components/Music/Music.jsx'));\r\nconst News = React.lazy(() => import('./components/News/News.jsx'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings.jsx'));\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n  //Запрос у сервера начальных данных-----------------------------------------\r\n  componentDidMount(){\r\n    this.props.initializeApp();\r\n    };\r\n\r\n  render(){\r\n    if (!this.props.initialized){\r\n      return <Preloader />\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className='app-wrapper'>\r\n          <HeaderContainer/>\r\n          <Navbar/>\r\n\r\n\r\n          <div className='app-wrapper-content'> \r\n\r\n\r\n\r\n          <React.Suspense fallback={<div><Preloader /></div>}>\r\n\t\t\t\t\t\t<Routes basename = {process.env.PUBLIC_URL}>\r\n\t\t\t\t\t\t\t{/* <Route path=\"/profile/:userID\" element={<ProfileContainer />} /> */}\r\n\t\t\t\t\t\t\t<Route path='/Profile/:userId?' element={<ProfileContainer />} />\r\n\t\t\t\t\t\t\t<Route path='/Dialogs/*' element={<DialogsContainer />} />\r\n              <Route path=\"/users\" element={<UsersContainer />} />\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"/music\" element={<Music />} />\r\n              <Route path=\"/news\" element={<News />} />\r\n              <Route path=\"/settings\" element={<Settings />} />\r\n\r\n\t\t\t\t\t\t\t{/* <Route path=\"/news\" element={<News />} />\r\n\t\t\t\t\t\t\t<Route path=\"/music\" element={<Music />} />\r\n\t\t\t\t\t\t\t<Route path=\"/users\" element={<UsersContainer />} />\r\n\t\t\t\t\t\t\t<Route path=\"/settings\" element={<Settings />} />\r\n\t\t\t\t\t\t\t<Route path=\"/login\" element={<Login />} /> */}\r\n\t\t\t\t\t\t</Routes>\r\n\t\t\t\t\t</React.Suspense>\r\n\r\n\r\n\r\n            {/* <Routes>  \r\n              <Route path='/Login/*' element={<Login />} />          \r\n              <Route path='/Profile/:userId?' element={<ProfileContainer />} />\r\n\r\n              <Route path='/Dialogs/*' element={<DialogsContainer />} />\r\n\r\n              <Route path='/Users/*' element={<UsersContainer />} />\r\n\r\n              <Route path='/News/*' element={<News />} />\r\n              <Route path='/Music/*' element={<Music />} />\r\n              <Route path='/Settings/*' element={<Settings />} />\r\n            </Routes> */}\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized : state.app.initialized\r\n});\r\n\r\n\r\nlet AppContainer = connect(mapStateToProps, {initializeApp})(App);\r\n\r\nconst JSApp = (props) => {\r\n  return(\r\n    <BrowserRouter>\r\n        <Provider store = {store}>\r\n          <AppContainer />\r\n        </Provider>\r\n    </BrowserRouter>\r\n  )\r\n};\r\n\r\nexport default JSApp;\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// import store from './redux/redux-store.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport JSApp from './App';\nimport reportWebVitals from './reportWebVitals';\n// import { BrowserRouter } from 'react-router-dom';\n// import {Provider} from 'react-redux';\n\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\n\troot.render(\n\t\t<JSApp/>\n\t\t\n\t\t\n\t\t// <BrowserRouter>\n\t\t// \t<Provider store = {store}>\n\t\t// \t\t<App/>\n\t\t// \t</Provider>\n\t\t// </BrowserRouter>\n\t);\n\t\n\treportWebVitals();\n\n\n\n\n","import React from 'react';\r\nimport preloaderImg from '../../../img/preloader.gif';\r\n\r\nlet Preloader = (props)=>{\r\n\treturn(\r\n\t<div style = {{backgroundColor : 'white'}}>\r\n\t<img src={preloaderImg} alt=''/>\r\n\t</div>\r\n\t)\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3hsHo\",\"loginBlock\":\"Header_loginBlock__1Syj8\"};","import {usersAPI, getProfileAPI} from '../components/api/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\n// const UPDATE_NEW_POST = 'UPDATE-NEW-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\n\r\n\r\n\r\nlet initialState = {\r\n\tpostsData: [\r\n\t\t{ id: 1, message: 'Солнце', likesCount: '1' },\r\n\t\t{ id: 2, message: 'Hjiolpoiu', likesCount: '23' },\r\n\t\t{ id: 3, message: '12342345', likesCount: '78' }\r\n\t],\r\n\r\n\t// newPostText : 'Hallo everybody',\r\n\tprofile : null,\r\n\tstatus : \"\",\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst profileReducer = (state = initialState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase ADD_POST:{\r\n\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 4, \r\n\t\t\t\tmessage: action.newPostText, \r\n\t\t\t\tlikesCount: '0'\r\n\t\t\t};\r\n\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData : [...state.postsData,newPost],\r\n\t\t\t\t\r\n\t\t\t\t// postsData : [...state.postsData,newPost],\r\n\t\t\t\t// newPostText : '',\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// case UPDATE_NEW_POST:{\r\n\t\t// \t// let stateCopy = {...state};\r\n\t\t// \t// stateCopy.newPostText = action.newText;\r\n\t\t// \t// return(stateCopy);\r\n\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tnewPostText : action.newText,\r\n\t\t// \t};\r\n\r\n\r\n\t\t// }\r\n\r\n\r\n\t\tcase SET_USER_PROFILE:{\r\n\t\t\treturn {...state, profile : action.profile};\r\n\t\t}\r\n\t\t\r\n\r\n\t\tcase SET_STATUS:{\r\n\t\t\treturn {...state, status : action.status};\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn(state);\r\n\t}\r\n}; \r\n\r\n\r\nexport default profileReducer;\r\n\r\n\r\n\r\n// ActionCreator  Post-----------------------------------------\r\n\r\nexport const addPostActionCreator = (newPostText)=>{\r\n\treturn {type : ADD_POST, newPostText}\r\n};\r\n\r\n// export const updateNewPostTextActionCreator = (text)=>{\r\n// \treturn {type : UPDATE_NEW_POST, newText : text}\r\n// };\r\n\r\nexport const setUserProfile = (profile)=>{\r\n\treturn {type : SET_USER_PROFILE, profile}\r\n};\r\n\r\nexport const setStatus = (status)=>{\r\n\treturn {type : SET_STATUS, status}\r\n};\r\n\r\n\r\n\r\n\r\n// ------------THUNK-----------------------------------------------------------------\r\n\r\nexport const getUserProfile = (userId)=>async (dispatch)=>{\r\n\tlet response = await usersAPI.getProfile(userId)\r\n\t\tdispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId)=>async(dispatch)=>{\r\n\tlet response = await getProfileAPI.getStatus(userId)\r\n\t\tdispatch(setStatus(response.data));\r\n}\r\n\r\n\r\nexport const updateStatus = (status)=>async (dispatch)=>{\r\n\tlet response = await getProfileAPI.updateStatus(status)\r\n\t\tif (response.data.resultCode === 0){\r\n\t\tdispatch(setStatus(status));\r\n\t\t}\r\n}","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n// const UPDATE_NEW_MESSAGE = 'UPDATE-NEW-MESSAGE'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tdialogsData: [\r\n\t\t{ id: 1, name: \"Ola\" },\r\n\t\t{ id: 2, name: 'Masha' },\r\n\t\t{ id: 3, name: 'Katy' },\r\n\t\t{ id: 4, name: 'Lula' },\r\n\t\t{ id: 5, name: 'Berta' },\r\n\t\t{ id: 6, name: 'Boska' }\r\n\t],\r\n\tmessagesData: [\r\n\t\t{ id: 1, message: 'Hallo' },\r\n\t\t{ id: 2, message: 'Tchudfg' },\r\n\t\t{ id: 3, message: 'Gut' }\r\n\t],\r\n\t// what is changing\r\n\t//newMessageText: `You message`\r\n}\r\n\r\n\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action)=>{\r\n\r\n\tswitch(action.type){\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\tlet newMessage = {\r\n\t\t\t\tid: 4, \r\n\t\t\t\tmessage: action.newMessageText\r\n\t\t\t};\r\n\t\t\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t// newMessageText : (''),\r\n\t\t\t\tmessagesData : [...state.messagesData,newMessage]\r\n\t\t\t};\r\n\r\n\t\t\t\r\n\t\t// case UPDATE_NEW_MESSAGE:\r\n\t\t// \t\treturn {\r\n\t\t// \t\t\t...state,\r\n\t\t// \t\t\tnewMessageText : action.newText,\r\n\t\t// \t\t};\t\r\n\t\t\t\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport default dialogsReducer;\r\n\t\r\n\r\n// Message -----------------------------------------\r\nexport const addMessageActionCreator = (newMessageText)=>{\r\n\treturn {type : ADD_MESSAGE, newMessageText}\r\n}\r\n\r\n// export const updateNewMessageTextActionCreator = (text)=>{\r\n// \treturn {type : UPDATE_NEW_MESSAGE, newText : text}\r\n// }","// ф-ци для всех reducers, которая бежит по массиву и ищет совпадения и меняет в этом О. что-то\r\n\r\nexport const updateObjectInArray = (items, itemsId, objPropName, newObjProps) =>{\r\n\treturn items.map( u=>{\r\n\t\tif (u[objPropName] ===\r\n\t\t\titemsId) {\r\n\t\t\treturn{...u, ...newObjProps}\r\n\t\t};\r\n\t\treturn u;\r\n\t})\t\t\t\r\n}\r\n\r\n\r\n\r\n","import { usersAPI } from '../components/api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'setUsers';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\t// followingInProgress : false,\r\n\tfollowingInProgress: [],\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase FOLLOW:\r\n\r\n\t\t\tlet result = {\r\n\t\t\t\t...state,\r\n\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", { followed: true }),\r\n\t\t\t\t// users : state.users.map( u=>\r\n\t\t\t\t// \t{\r\n\t\t\t\t// \t\tif (u.id===action.userId) {\r\n\t\t\t\t// \t\t\treturn{...u, followed : true}\r\n\t\t\t\t// \t\t};\r\n\t\t\t\t// \t\treturn(u);\r\n\t\t\t\t// \t})\t\t\t\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", { followed: false }),\r\n\r\n\t\t\t\t// users : state.users.map( u=>\r\n\t\t\t\t// \t{if (u.id===action.userId) {\r\n\t\t\t\t// \t\treturn{...u, followed : false}\r\n\t\t\t\t// \t\t};\r\n\t\t\t\t// \t\treturn(u);\r\n\t\t\t\t// \t})\t\t\t\r\n\t\t\t};\r\n\r\n\r\n\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t// users : [...state.users, ...action.users]\r\n\t\t\t\tusers: action.users\r\n\t\t\t};\r\n\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t};\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn { ...state, totalUsersCount: action.totalUsersCount };\r\n\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching };\r\n\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching ?\r\n\t\t\t\t\t[...state.followingInProgress, action.userId] :\r\n\t\t\t\t\tstate.followingInProgress.filter(id => id !== action.userId),\r\n\t\t\t};\r\n\t\t// return {\r\n\t\t// \t...state,\r\n\t\t// \tfollowingInProgress : action.userId,\r\n\t\t// }\r\n\r\n\t\tdefault:\r\n\t\t\treturn (state);\r\n\t}\r\n};\r\nexport default usersReducer;\r\n\r\n\r\n\r\n// ActionCreator  Post-----------------------------------------\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\n\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n\treturn { type: UNFOLLOW, userId };\r\n};\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n\treturn { type: SET_CURRENT_PAGE, currentPage: currentPage };\r\n};\r\n\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n\treturn { type: SET_TOTAL_USERS_COUNT, totalUsersCount: totalUsersCount };\r\n};\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n\treturn { type: TOGGLE_IS_FETCHING, isFetching: isFetching };\r\n};\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n\treturn { type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId };\r\n};\r\n//-ActionCreator  SET--------------------------------------------------------------\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\n\r\n\r\n\r\n\r\n\r\n\r\n//-----------------ThunkCreators-----------------------------------------------------------------------------\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\treturn (\r\n\t\tasync (dispatch) => {\r\n\t\t\tdispatch(toggleIsFetching(true));\r\n\t\t\tdispatch(setCurrentPage(page));\r\n\r\n\t\t\tlet data = await usersAPI.requestUsers(page, pageSize);\r\n\t\t\tdispatch(toggleIsFetching(false));\r\n\t\t\tdispatch(setUsers(data.items));\r\n\t\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t\t}\r\n\t);\r\n}\r\n\r\n\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdebugger\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tlet response = await apiMethod(userId);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t};\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n\treturn (\r\n\t\tasync (dispatch) => {\r\n\t\t\t// let apiMethod = usersAPI.follow.bind(usersAPI);\r\n\t\t\t// let actionCreator = followSuccess;\r\n\r\n\t\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n\t\t}\r\n\t)\r\n}\r\n\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn (\r\n\t\tasync (dispatch) => {\r\n\t\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n\t\t}\r\n\t)\r\n}\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/preloader.dfb476c1.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Navbar_sidebar__BZxEK\",\"nav\":\"Navbar_nav__3TlrN\",\"link\":\"Navbar_link__3Gysh\",\"activeLink\":\"Navbar_activeLink__3x77S\"};","//current user support--------------------------------------- \r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\theader: { \"API-KEY\": \"495ccbaa-f1de-49f2-aee6-bb202e0b4fca\" },\r\n\tbaseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n});\r\n\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n\trequestUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn (\r\n\t\t\tinstance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t\t.then(responce => {\r\n\t\t\t\t\treturn responce.data\r\n\t\t\t\t})\r\n\t\t)\r\n\t},\r\n\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\r\n\t// from profileContainer\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn(\"Obsolete method. Now getProfileAPI\")\r\n\t\treturn getProfileAPI.getProfile(userId)\r\n\t\t//instance.get(`profile/`+ userId)\r\n\t},\r\n}\r\n\r\n\r\n\r\nexport const getProfileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/` + userId)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status: status })\r\n\t},\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const authAPI = {\r\n\t// from HeaderContainer\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe });\r\n\t},\r\n\tlogout(email, password, rememberMe = false) {\r\n\t\treturn instance.delete(`auth/login`, { email, password, rememberMe });\r\n\t}\r\n\r\n}"],"sourceRoot":""}