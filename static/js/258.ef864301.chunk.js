"use strict";(self.webpackChunkreact_4_lesson=self.webpackChunkreact_4_lesson||[]).push([[258],{8258:(e,s,r)=>{r.r(s),r.d(s,{default:()=>y});var t=r(5043);const n="Users_UserSearchForm__BeBxo",l="Users_wrapper__ulbtJ",a="Users_pagination__COUwZ",d="Users_usersList__3Mkd9";var o=r(5475);const i={userCard:"User_userCard__oyLZ1",userPhoto:"User_userPhoto__fOk2K",userCardText:"User_userCardText__vG5RK",userCardStatus:"User_userCardStatus__1Q9F4"};var c=r(579);const u=e=>{let{user:s,followingInProgress:r,follow:t,unfollow:n}=e;return(0,c.jsxs)("div",{className:i.userCard,children:[(0,c.jsxs)(o.k2,{to:"/profile/"+s.id,children:[(0,c.jsx)("img",{src:null!=s.photos.small?s.photos.small:"data:image/png;base64,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",className:i.userPhoto,alt:""}),(0,c.jsx)("div",{className:i.userCardName,children:s.name})]}),(0,c.jsxs)("div",{className:i.userCardText,children:[(0,c.jsxs)("div",{className:i.userCardStatus,children:[(0,c.jsx)("b",{children:"Status:"}),"\xa0",s.status]}),(0,c.jsx)("div",{className:i.userFollow,children:s.followed?(0,c.jsx)("button",{disabled:r.some((e=>e===s.id)),onClick:()=>{n(s.id)},children:"unfollow"}):(0,c.jsx)("button",{disabled:r.some((e=>e===s.id)),onClick:()=>{t(s.id)},children:"follow"})})]})]})};var g=r(4858),A=r(3003);const C=(0,r(2099).Mz)((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),m=e=>e.usersPage.pageSize,w=e=>e.usersPage.totalUsersCount,x=e=>e.usersPage.currentPage,B=e=>e.usersPage.isFetching,h=e=>e.usersPage.followingInProgress,j=e=>e.usersPage.filter,f=e=>{const s=(0,A.d4)(j),{register:r,handleSubmit:t,formState:{errors:n}}=(0,g.mN)({defaultValues:{term:s.term,friend:String(s.friend)}});return(0,c.jsxs)("form",{onSubmit:t((s=>{const r={term:s.term,friend:"null"===s.friend?null:"true"===s.friend};e.onFilterChanged(r)}),(e=>{})),children:[(0,c.jsx)("div",{}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"User Search"})," : ",(0,c.jsx)("input",{type:"input",...r("term",{maxLength:{value:20,message:" exceeds 20 symbols"}})}),(0,c.jsx)("div",{style:{padding:"10px",display:"inline-block"},children:(0,c.jsxs)("select",{...r("friend"),children:[(0,c.jsx)("option",{value:"null",children:"All"}),(0,c.jsx)("option",{value:"true",children:"Only followed"}),(0,c.jsx)("option",{value:"false",children:"Only unfollowed"})]})}),(0,c.jsx)("button",{children:"Search"})]})]})};var Y=r(6893),p=r(3216),v=r(5448),U=r(7356),F=r(9162);const R=()=>{const e=(0,A.d4)(C),s=(0,A.d4)(w),r=(0,A.d4)(m),i=(0,A.d4)(x),g=(0,A.d4)(j),B=(0,A.d4)(h),R=(0,A.wA)();(0,t.useEffect)((()=>{let e=y.get("term"),s=y.get("friend"),t=y.get("page"),n=i,l=g;switch(t&&(n=Number(t)),e&&(l={...l,term:e}),s){case"null":l={...l,friend:null};break;case"true":l={...l,friend:!0};break;case"false":l={...l,friend:!1}}R((0,Y.AI)(n,r,l))}),[]);let S=(0,p.Zp)();(0,t.useEffect)((()=>{S("/users?term=".concat(g.term,"&friend=").concat(g.friend,"&page=").concat(i))}),[S,g.friend,g.term,i]);let b=(0,p.zy)();const[y]=(0,o.ok)(b.search),z=e=>{R((0,Y.e6)(e))},L=e=>{R((0,Y.X2)(e))};return(0,c.jsx)("div",{children:(0,c.jsx)(v.UC,{style:{textAlign:"center",minHeight:120,borderRadius:13,padding:"30px 24px"},children:(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("div",{className:n,children:(0,c.jsx)(f,{onFilterChanged:e=>{R((0,Y.AI)(1,r,e))}})}),(0,c.jsx)("div",{children:(0,c.jsx)(U.Ay,{theme:{components:{Pagination:{itemActiveBg:"#e2e4f9"}}},children:(0,c.jsx)("div",{className:a,children:(0,c.jsx)(F.A,{defaultCurrent:i,total:s,pageSize:r,showSizeChanger:!1,onChange:e=>{R((0,Y.AI)(e,r,g))}})})})}),(0,c.jsx)("div",{className:d,children:e.map((e=>(0,c.jsx)(u,{user:e,followingInProgress:B,follow:z,unfollow:L},e.id)))})]})})})};var S=r(6888),b=r(7002);const y=()=>{const e=(0,A.d4)(B);let s=(0,A.d4)(b.B),r=(0,p.Zp)();return(0,t.useEffect)((()=>{s||r("/login")}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"People you may know"}),e?(0,c.jsx)(S.A,{}):null,(0,c.jsx)(R,{})]})})}}}]);
//# sourceMappingURL=258.ef864301.chunk.js.map